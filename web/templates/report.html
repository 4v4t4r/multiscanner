{% extends "layout.html" %}

{% block head %}
<script type="text/javascript">
  function createReportkRow(heading, content) {
    return '<tr>' +
           '<th>' + heading + '</th>' +
           '<td>' + content + '</td>' +
           '</tr>';
  }

  function reportSetup(apiLoc, taskId) {
    // Get list of tasks and populate the table
    tasks_data = $.get("http://" + apiLoc + "/api/v1/tasks/report/" + taskId, function(data, status){
      $.each(data.Report, function(index, item) {
        $("tbody").append(createReportkRow(index, item));
      });

    });
  }

  $(document).ready(function($) {
    reportSetup("{{ api_loc }}", "{{ task_id }}");
  });
</script>
{% endblock %}

{% block title %}Report{% endblock %}

{% block content %}
<div class="row">
  <div class="col-md-10 col-md-offset-1">
    <h1 class="text-center">Task {{ task_id }} Report</h1>
    <br />

    <table class="table table-hover ">
      <tbody>
      </tbody>
    </table>
  </div>
</div>
{% endblock %}